<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Гравировка — Welcome Dream</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .carousel-img {opacity: 0; transition: opacity 0.5s;}
    .carousel-img.active {opacity: 1;}
    .carousel-dots .active-dot {background: #1e3a8a;}
    /* Плавающий чат */
    #chatWidgetBtn {
      position: fixed; bottom: 28px; right: 28px; z-index: 50;
      background: #2563eb; color: white; border-radius: 50%; width: 56px; height: 56px;
      display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 10px #0003;
      cursor: pointer; font-size: 2rem;
      transition: background 0.2s;
    }
    #chatWidgetBtn:hover {background: #1e40af;}
    #chatWidgetBox {
      position: fixed; bottom: 96px; right: 32px; z-index: 50;
      width: 350px; max-width: calc(100vw - 32px);
      background: white; border-radius: 1rem; box-shadow: 0 6px 32px #0003;
      display: none; flex-direction: column;
    }
    .msg-bubble {max-width: 80%; border-radius: 1.2em; margin-bottom: 0.3em;}
    .msg-bubble.user {background: #e0f2fe; align-self: flex-end;}
    .msg-bubble.seller {background: #e5e7eb; align-self: flex-start;}
    @media (max-width: 500px) {
      #chatWidgetBox {right: 4px; width: 99vw;}
    }
  </style>
</head>
<body class="bg-white text-gray-900">

<!-- Шапка -->
  <header class="bg-blue-900 text-white sticky top-0 z-40 shadow-lg">
    <div class="max-w-7xl mx-auto flex items-center justify-between p-4">
      <div class="flex items-center space-x-4">
        <img src="img/logo.svg" alt="Welcome Dream Logo" class="h-12">
      </div>
      <!-- Desktop Nav -->
      <nav class="space-x-6 hidden md:flex items-center relative">
        <!-- Выпадающее меню по hover -->
        <div class="relative group">
          <button class="hover:text-yellow-400 flex items-center focus:outline-none" type="button">
            Категории
            <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="absolute left-0 mt-2 w-44 bg-white text-gray-800 rounded shadow-lg border z-50
                      opacity-0 group-hover:opacity-100 invisible group-hover:visible transition-all duration-200">
            <a href="#breloki" class="block px-4 py-2 hover:bg-blue-100">Брелоки</a>
            <a href="#podveski" class="block px-4 py-2 hover:bg-blue-100">Подвески</a>
            <a href="#braslety" class="block px-4 py-2 hover:bg-blue-100">Браслеты</a>
            <a href="#ruchki" class="block px-4 py-2 hover:bg-blue-100">Ручки</a>
            <a href="#nabory" class="block px-4 py-2 hover:bg-blue-100">Наборы</a>
          </div>
        </div>
        <a href="#engraving" class="hover:text-yellow-400">Гравировка</a>
        <a href="#about" class="hover:text-yellow-400">О нас</a>
        <a href="#contacts" class="hover:text-yellow-400">Контакты</a>
      </nav>
      <div class="flex items-center space-x-4">
        <input type="text" placeholder="Поиск" class="p-2 rounded hidden md:block" />
        <div class="relative">
          <a href="#">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.2 6H17a1 1 0 001-1v-1M7 13l.4-2m5 5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm6 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" />
            </svg>
            <span class="absolute -top-1 -right-2 bg-red-600 text-xs text-white rounded-full px-1.5">0</span>
          </a>
        </div>
        <!-- Burger -->
        <button id="burger" class="burger flex flex-col justify-center md:hidden ml-2">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
    <!-- Mobile Menu -->
    <nav id="mobileMenu" class="md:hidden bg-blue-800 text-white text-lg px-6 py-4 space-y-2 absolute w-full left-0 top-20 hidden z-50">
      <div>
        <button id="mobileCatBtn" class="flex items-center w-full text-left hover:text-yellow-400" type="button">
          Категории
          <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div id="dropdownMobile" class="ml-4 mt-2 space-y-1 hidden">
          <a href="#breloki" class="block px-2 py-1 hover:bg-blue-700 rounded">Брелоки</a>
          <a href="#podveski" class="block px-2 py-1 hover:bg-blue-700 rounded">Подвески</a>
          <a href="#braslety" class="block px-2 py-1 hover:bg-blue-700 rounded">Браслеты</a>
          <a href="#ruchki" class="block px-2 py-1 hover:bg-blue-700 rounded">Ручки</a>
          <a href="#nabory" class="block px-2 py-1 hover:bg-blue-700 rounded">Наборы</a>
        </div>
      </div>
      <a href="#engraving" class="block hover:text-yellow-400">Гравировка</a>
      <a href="#about" class="block hover:text-yellow-400">О нас</a>
      <a href="#contacts" class="block hover:text-yellow-400">Контакты</a>
    </nav>
  </header>
<main>
  <section class="max-w-5xl mx-auto px-4 py-10 space-y-16">

    <!-- Карусель с примерами -->
    <div>
      <h2 class="text-2xl font-bold mb-4">Примеры наших работ</h2>
      <div class="relative flex items-center justify-center">
        <button onclick="carouselPrev()" class="absolute left-0 top-1/2 -translate-y-1/2 px-2 py-2 bg-white rounded-full shadow hover:bg-gray-100 z-10">&#8592;</button>
        <div class="w-full flex items-center justify-center" style="height:240px;">
          <img src="img/engrave1.jpg" class="carousel-img active max-h-60 rounded shadow-lg" alt="Гравировка 1">
          <img src="img/engrave2.jpg" class="carousel-img max-h-60 rounded shadow-lg" alt="Гравировка 2" style="position:absolute;">
          <img src="img/engrave3.jpg" class="carousel-img max-h-60 rounded shadow-lg" alt="Гравировка 3" style="position:absolute;">
        </div>
        <button onclick="carouselNext()" class="absolute right-0 top-1/2 -translate-y-1/2 px-2 py-2 bg-white rounded-full shadow hover:bg-gray-100 z-10">&#8594;</button>
      </div>
      <div class="flex justify-center carousel-dots mt-2 space-x-2">
        <button onclick="carouselDot(0)" class="w-3 h-3 rounded-full bg-blue-200 active-dot"></button>
        <button onclick="carouselDot(1)" class="w-3 h-3 rounded-full bg-blue-200"></button>
        <button onclick="carouselDot(2)" class="w-3 h-3 rounded-full bg-blue-200"></button>
      </div>
    </div>

    <!-- Заявка на индивидуальную гравировку -->
    <div>
      <h2 class="text-2xl font-bold mb-4">Заявка на индивидуальную гравировку</h2>
      <form id="engravingForm" class="space-y-4 max-w-lg bg-blue-50 rounded-lg p-6 mx-auto">
        <input type="text" placeholder="Ваше имя" class="w-full p-2 border rounded" required>
        <input type="email" placeholder="Ваш e-mail" class="w-full p-2 border rounded" required>
        <textarea placeholder="Текст гравировки или пожелания" class="w-full p-2 border rounded" required></textarea>
        <button type="submit" class="bg-yellow-400 text-white px-4 py-2 rounded hover:bg-yellow-500">Отправить заявку</button>
        <div id="engravingFormSuccess" class="hidden text-green-700 text-center font-semibold mt-2">
          Спасибо! Ваша заявка отправлена. Мы свяжемся с вами в ближайшее время.
        </div>
      </form>
    </div>

    <!-- Отзывы -->
    <div>
      <h2 class="text-2xl font-bold mb-4">Отзывы наших клиентов</h2>
      <div id="reviewList" class="space-y-4 mb-4"></div>
    </div>

  </section>
</main>
  <!-- Кнопка "вверх" -->
  <button id="toTop" class="hidden fixed bg-yellow-400 text-white p-3 rounded-full shadow hover:bg-yellow-500 transition">
    &#8679;
  </button>
<footer class="bg-blue-900 text-white text-sm py-6 mt-12">
  <div class="max-w-7xl mx-auto px-4 flex flex-col items-center space-y-2">
    <p>&copy; 2025 Welcome Dream. Все права защищены.</p>
    <p>Email: <span contenteditable="true">example@email.com</span> | Телефон: <span contenteditable="true">+7 999 999-99-99</span></p>
    <div class="flex space-x-4 mt-2">
      <a href="https://t.me/your_username" target="_blank" class="hover:opacity-75">
        <img src="img/telegram.svg" alt="Telegram" class="h-6">
      </a>
      <a href="https://wa.me/79999999999" target="_blank" class="hover:opacity-75">
        <img src="img/whatsapp.svg" alt="WhatsApp" class="h-6">
      </a>
      <a href="https://vk.com/your_username" target="_blank" class="hover:opacity-75">
        <img src="img/vk.svg" alt="VK" class="h-6">
      </a>
    </div>
  </div>
</footer>

<!-- Плавающая кнопка чата -->
<button id="chatWidgetBtn" title="Онлайн-чат">
  <!-- SVG иконка чата -->
  <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h6m-6 4h8m2-12H7a2 2 0 00-2 2v16l4-4h8a2 2 0 002-2V6a2 2 0 00-2-2z"/>
  </svg>
</button>
<!-- Сам чат -->
<div id="chatWidgetBox" style="display:none;">
  <div class="flex flex-col h-[420px]">
    <div class="flex items-center justify-between px-5 py-3 border-b border-gray-200 rounded-t-lg bg-blue-900 text-white">
      <span class="font-semibold">Онлайн-чат</span>
      <button onclick="closeChatWidget()" class="text-2xl hover:text-yellow-300">&times;</button>
    </div>
    <div id="chatBox" class="flex-1 overflow-y-auto p-4 flex flex-col gap-1 bg-gray-50"></div>
    <form id="chatForm" class="flex gap-2 p-3 border-t border-gray-200 bg-white">
      <input type="text" id="chatInput" placeholder="Ваш вопрос..." class="border rounded p-2 flex-1" required maxlength="300" autocomplete="off" />
      <button type="submit" class="bg-blue-900 text-white px-4 rounded hover:bg-blue-700">Отпр.</button>
    </form>
  </div>
</div>

<script>
  // Карусель
  const carouselImgs = document.querySelectorAll('.carousel-img');
  const carouselDots = document.querySelectorAll('.carousel-dots button');
  let carouselIndex = 0;
  function showCarousel(idx) {
    carouselImgs.forEach((img, i) => {
      img.classList.toggle('active', i === idx);
      img.style.zIndex = i === idx ? 2 : 1;
    });
    carouselDots.forEach((btn, i) => btn.classList.toggle('active-dot', i === idx));
    carouselIndex = idx;
  }
  function carouselPrev() { showCarousel((carouselIndex - 1 + carouselImgs.length) % carouselImgs.length); }
  function carouselNext() { showCarousel((carouselIndex + 1) % carouselImgs.length); }
  function carouselDot(idx) { showCarousel(idx); }

  // Форма гравировки
  document.getElementById('engravingForm').addEventListener('submit', function(e){
    e.preventDefault();
    document.getElementById('engravingFormSuccess').classList.remove('hidden');
    setTimeout(()=>document.getElementById('engravingFormSuccess').classList.add('hidden'), 2500);
    this.reset();
  });

  // Отзывы
  let reviews = [
    {
      name: "Анна",
      text: "Очень понравился брелок с гравировкой! Сделали быстро и красиво. Спасибо!",
      photo: "img/review1.jpg"
    },
    {
      name: "Иван",
      text: "Заказал набор с именной ручкой. Гравировка четкая, упаковка отличная.",
      photo: ""
    }
  ];
  function renderReviews() {
    const el = document.getElementById('reviewList');
    el.innerHTML = reviews.map(r =>
      `<div class="bg-gray-50 border rounded-lg p-4 flex gap-4 items-start">
        ${r.photo ? `<img src="${r.photo}" alt="Фото отзыва" class="h-16 w-16 object-cover rounded shadow">` : ""}
        <div>
          <div class="font-bold">${r.name}</div>
          <div class="text-gray-700 mb-1">${r.text}</div>
        </div>
      </div>`
    ).join('');
  }
  renderReviews();

  // Плавающий чат
  const chatBtn = document.getElementById('chatWidgetBtn');
  const chatBoxDiv = document.getElementById('chatBox');
  const chatForm = document.getElementById('chatForm');
  const chatInput = document.getElementById('chatInput');
  const chatWidgetBox = document.getElementById('chatWidgetBox');
  let chatOpened = false;
  let chatHistory = [
    {user: 'seller', text: 'Здравствуйте, чем я могу вам помочь?'}
  ];

  function renderChat() {
    chatBoxDiv.innerHTML = '';
    chatHistory.forEach(msg => {
      chatBoxDiv.innerHTML += `<div class="msg-bubble ${msg.user} p-3">${msg.text}</div>`;
    });
    chatBoxDiv.scrollTop = chatBoxDiv.scrollHeight;
  }

  chatBtn.addEventListener('click', () => {
    chatWidgetBox.style.display = "flex";
    chatOpened = true;
    renderChat();
    setTimeout(()=>chatInput.focus(), 100);
  });

  function closeChatWidget() {
    chatWidgetBox.style.display = "none";
    chatOpened = false;
  }

  chatForm.addEventListener('submit', e => {
    e.preventDefault();
    const text = chatInput.value.trim();
    if (!text) return;
    chatHistory.push({user: 'user', text});
    renderChat();
    chatInput.value = '';
    setTimeout(() => {
      chatHistory.push({user: 'seller', text: "Спасибо за вопрос! Наш менеджер свяжется с вами лично."});
      renderChat();
    }, 1200);
  });

  // Закрытие чата по клику вне окна
  document.addEventListener('mousedown', function(e){
    if (chatOpened && !chatWidgetBox.contains(e.target) && e.target !== chatBtn) {
      closeChatWidget();
    }
  });

  // Можно ESC закрыть
  document.addEventListener('keydown', function(e){
    if (chatOpened && e.key === "Escape") closeChatWidget();
  });

  // Автофокус на input чата при открытии
  renderChat();
</script>
</body>
</html>